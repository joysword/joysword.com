<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>osgBullet: osgbDynamics::MotionState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgBullet
   &#160;<span id="projectnumber">osgBullet 2.00.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>osgbDynamics</b></li><li class="navelem"><a class="el" href="classosgb_dynamics_1_1_motion_state.html">MotionState</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classosgb_dynamics_1_1_motion_state-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">osgbDynamics::MotionState Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A btMotionState that works with OSG Transforms.  
 <a href="classosgb_dynamics_1_1_motion_state.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_motion_state_8h_source.html">osgbDynamics/MotionState.h</a>&gt;</code></p>

<p>Inherits btMotionState.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf9859d324ac40f8cae907ace5f67d71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#abf9859d324ac40f8cae907ace5f67d71">MotionState</a> (const osg::Matrix &amp;parentTransform=osg::Matrix::identity(), const osg::Vec3 &amp;centerOfMass=osg::Vec3(0., 0., 0.))</td></tr>
<tr class="memdesc:abf9859d324ac40f8cae907ace5f67d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#abf9859d324ac40f8cae907ace5f67d71">More...</a><br/></td></tr>
<tr class="separator:abf9859d324ac40f8cae907ace5f67d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c20bd9e017a0f9ddc447040fcc0d0ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c20bd9e017a0f9ddc447040fcc0d0ad"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a9c20bd9e017a0f9ddc447040fcc0d0ad">~MotionState</a> (void)</td></tr>
<tr class="memdesc:a9c20bd9e017a0f9ddc447040fcc0d0ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a9c20bd9e017a0f9ddc447040fcc0d0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874c383644fa12becd7e0e77a9e43fdb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a874c383644fa12becd7e0e77a9e43fdb">setWorldTransform</a> (const btTransform &amp;worldTrans)</td></tr>
<tr class="memdesc:a874c383644fa12becd7e0e77a9e43fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) transformation.  <a href="#a874c383644fa12becd7e0e77a9e43fdb">More...</a><br/></td></tr>
<tr class="separator:a874c383644fa12becd7e0e77a9e43fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f693698eaf8fd3c801c350cc3bd9b73"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a5f693698eaf8fd3c801c350cc3bd9b73">getWorldTransform</a> (btTransform &amp;worldTrans) const </td></tr>
<tr class="separator:a5f693698eaf8fd3c801c350cc3bd9b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca091f01cadd783faed6adc14f8d578"><td class="memItemLeft" align="right" valign="top">osg::Matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#abca091f01cadd783faed6adc14f8d578">computeCOLocalToOsgLocal</a> () const </td></tr>
<tr class="memdesc:abca091f01cadd783faed6adc14f8d578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a matrix that transforms from collision object local coordinates to OSG local coordinate.  <a href="#abca091f01cadd783faed6adc14f8d578">More...</a><br/></td></tr>
<tr class="separator:abca091f01cadd783faed6adc14f8d578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b93f2ed77cc32b7be06b1d22f0006f"><td class="memItemLeft" align="right" valign="top">osg::Matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#af6b93f2ed77cc32b7be06b1d22f0006f">computeOsgLocalToCOLocal</a> () const </td></tr>
<tr class="memdesc:af6b93f2ed77cc32b7be06b1d22f0006f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a matrix that transforms from OSG local coordinates to collision object local coordinate.  <a href="#af6b93f2ed77cc32b7be06b1d22f0006f">More...</a><br/></td></tr>
<tr class="separator:af6b93f2ed77cc32b7be06b1d22f0006f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58036dbd1e42474a15ddea2f62e116bd"><td class="memItemLeft" align="right" valign="top">osg::Matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a58036dbd1e42474a15ddea2f62e116bd">computeOsgWorldToCOLocal</a> () const </td></tr>
<tr class="memdesc:a58036dbd1e42474a15ddea2f62e116bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a matrix that transforms from OSG world coordinates to collision object local coordinate.  <a href="#a58036dbd1e42474a15ddea2f62e116bd">More...</a><br/></td></tr>
<tr class="separator:a58036dbd1e42474a15ddea2f62e116bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abffcdf4277aa8849a15fa5c67121a6f0"><td class="memItemLeft" align="right" valign="top">osg::Matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#abffcdf4277aa8849a15fa5c67121a6f0">computeOsgWorldToBulletWorld</a> () const </td></tr>
<tr class="memdesc:abffcdf4277aa8849a15fa5c67121a6f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a matrix that transforms from OSG world coordinates to Bullet world coordinates.  <a href="#abffcdf4277aa8849a15fa5c67121a6f0">More...</a><br/></td></tr>
<tr class="separator:abffcdf4277aa8849a15fa5c67121a6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf2ea5763b3be2b38595a555863c151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a5bf2ea5763b3be2b38595a555863c151">setTransform</a> (osg::Transform *transform)</td></tr>
<tr class="memdesc:a5bf2ea5763b3be2b38595a555863c151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and get a subgraph that corresponds to the rigid body owning this <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>.  <a href="#a5bf2ea5763b3be2b38595a555863c151">More...</a><br/></td></tr>
<tr class="separator:a5bf2ea5763b3be2b38595a555863c151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f3d27b571aa7b2945d70132727af9e"><td class="memItemLeft" align="right" valign="top">osg::Transform *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#ae4f3d27b571aa7b2945d70132727af9e">getTransform</a> ()</td></tr>
<tr class="separator:ae4f3d27b571aa7b2945d70132727af9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3533d8459ee58055cc35ca09d672b779"><td class="memItemLeft" align="right" valign="top">const osg::Transform *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a3533d8459ee58055cc35ca09d672b779">getTransform</a> () const </td></tr>
<tr class="separator:a3533d8459ee58055cc35ca09d672b779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3743fbe64731f55b1dee15f4d205e3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a3743fbe64731f55b1dee15f4d205e3ef">setParentTransform</a> (const osg::Matrix m)</td></tr>
<tr class="memdesc:a3743fbe64731f55b1dee15f4d205e3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and get the initial transformation for the <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>.  <a href="#a3743fbe64731f55b1dee15f4d205e3ef">More...</a><br/></td></tr>
<tr class="separator:a3743fbe64731f55b1dee15f4d205e3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb79d1c384fd901a0f09be0f4abc5329"><td class="memItemLeft" align="right" valign="top">osg::Matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#afb79d1c384fd901a0f09be0f4abc5329">getParentTransform</a> () const </td></tr>
<tr class="separator:afb79d1c384fd901a0f09be0f4abc5329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cf7c1412365048f2cad4910c08bce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#ab4cf7c1412365048f2cad4910c08bce9">setCenterOfMass</a> (const osg::Vec3 &amp;com)</td></tr>
<tr class="separator:ab4cf7c1412365048f2cad4910c08bce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7578a290970e7bec58b9dd3fda3ab827"><td class="memItemLeft" align="right" valign="top">osg::Vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a7578a290970e7bec58b9dd3fda3ab827">getCenterOfMass</a> () const </td></tr>
<tr class="separator:a7578a290970e7bec58b9dd3fda3ab827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9221f5cb9969036c618e5165eb9c30f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a9221f5cb9969036c618e5165eb9c30f7">setScale</a> (const osg::Vec3 &amp;scale)</td></tr>
<tr class="separator:a9221f5cb9969036c618e5165eb9c30f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c96763fae8fa8616c3406aa80abb4a1"><td class="memItemLeft" align="right" valign="top">osg::Vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a6c96763fae8fa8616c3406aa80abb4a1">getScale</a> () const </td></tr>
<tr class="separator:a6c96763fae8fa8616c3406aa80abb4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c832c0c6ec7e8d7952350755bf220d"><td class="memItemLeft" align="right" valign="top">MotionStateCallbackList &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a49c832c0c6ec7e8d7952350755bf220d">getCallbackList</a> ()</td></tr>
<tr class="memdesc:a49c832c0c6ec7e8d7952350755bf220d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support for application notification of changes to the world transformation.  <a href="#a49c832c0c6ec7e8d7952350755bf220d">More...</a><br/></td></tr>
<tr class="separator:a49c832c0c6ec7e8d7952350755bf220d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732e288815b92a7e59b69b171639d1dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a732e288815b92a7e59b69b171639d1dc">resetTransform</a> ()</td></tr>
<tr class="separator:a732e288815b92a7e59b69b171639d1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2edadc9837a646029609ab2ff277e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#a7c2edadc9837a646029609ab2ff277e9">registerTripleBuffer</a> (<a class="el" href="classosgb_dynamics_1_1_triple_buffer.html">osgbDynamics::TripleBuffer</a> *tb)</td></tr>
<tr class="memdesc:a7c2edadc9837a646029609ab2ff277e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> for use with a <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html" title="A triple buffer mechanism to support physics and rendering in separate threads.">TripleBuffer</a>.  <a href="#a7c2edadc9837a646029609ab2ff277e9">More...</a><br/></td></tr>
<tr class="separator:a7c2edadc9837a646029609ab2ff277e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3784a1d4ad81ed62a5b720ce33cb1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgb_dynamics_1_1_motion_state.html#aca3784a1d4ad81ed62a5b720ce33cb1e">updateTripleBuffer</a> (const char *addr)</td></tr>
<tr class="memdesc:aca3784a1d4ad81ed62a5b720ce33cb1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the latest updated world transform value from the <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html" title="A triple buffer mechanism to support physics and rendering in separate threads.">TripleBuffer</a> and pushes it out to the <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> object's OSG Transform.  <a href="#aca3784a1d4ad81ed62a5b720ce33cb1e">More...</a><br/></td></tr>
<tr class="separator:aca3784a1d4ad81ed62a5b720ce33cb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A btMotionState that works with OSG Transforms. </p>
<p>A btMotionState that allows Bullet to set the ransformation of an OSG subgraph corresponding to a rigid body.</p>
<p>This class can interface with an osg::MatrixTransform or an osgwTools::AbsoluteModelTransform.</p>
<p>In typical usage, your application uses the <a class="el" href="group__rigidbody.html">Rigid Body Creation</a> routines to create a rigid body, which implicitly creates a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. However, if your application doesn't use the <a class="el" href="group__rigidbody.html">Rigid Body Creation</a> routines, you will need to explicitly create a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> in order to keep your visual and physical representations in sync.</p>
<p>To attache a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> to your OSG subgraph: </p>
<ul>
<li>Call <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a5bf2ea5763b3be2b38595a555863c151" title="Set and get a subgraph that corresponds to the rigid body owning this MotionState.">setTransform()</a> and pass in the root node of your subgraph. The node must be an osg::MatrixTransform or an osgwTools::AbsoluteModelTransform. </li>
<li>Call <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a3743fbe64731f55b1dee15f4d205e3ef" title="Set and get the initial transformation for the MotionState.">setParentTransform()</a> to specify the initial transformation for the subgraph (usually the OSG local to world matrix from the subgraph parent's NodePath). </li>
<li>Call <a class="el" href="classosgb_dynamics_1_1_motion_state.html#ab4cf7c1412365048f2cad4910c08bce9">setCenterOfMass()</a> to specify the xyz point corresponding to the origin of the Bullet collision shape used by the rigid body. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abf9859d324ac40f8cae907ace5f67d71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osgbDynamics::MotionState::MotionState </td>
          <td>(</td>
          <td class="paramtype">const osg::Matrix &amp;&#160;</td>
          <td class="paramname"><em>parentTransform</em> = <code>osg::Matrix::identity()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osg::Vec3 &amp;&#160;</td>
          <td class="paramname"><em>centerOfMass</em> = <code>osg::Vec3(&#160;0.,&#160;0.,&#160;0.&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parentTransform</td><td>See <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a3743fbe64731f55b1dee15f4d205e3ef" title="Set and get the initial transformation for the MotionState.">setParentTransform()</a>. </td></tr>
    <tr><td class="paramname">centerOfMass</td><td>See <a class="el" href="classosgb_dynamics_1_1_motion_state.html#ab4cf7c1412365048f2cad4910c08bce9">setCenterOfMass()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a874c383644fa12becd7e0e77a9e43fdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::setWorldTransform </td>
          <td>(</td>
          <td class="paramtype">const btTransform &amp;&#160;</td>
          <td class="paramname"><em>worldTrans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) transformation. </p>
<p>Bullet sets and gets the rigid body world transformation using these routines (<a class="el" href="classosgb_dynamics_1_1_motion_state.html#a874c383644fa12becd7e0e77a9e43fdb" title="Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) tr...">setWorldTransform()</a> and <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a5f693698eaf8fd3c801c350cc3bd9b73">getWorldTransform()</a> ). They are promarily for use by Bullet only, but <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a874c383644fa12becd7e0e77a9e43fdb" title="Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) tr...">setWorldTransform()</a> is also called internally by resetTransform. </p>

</div>
</div>
<a class="anchor" id="a5f693698eaf8fd3c801c350cc3bd9b73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::getWorldTransform </td>
          <td>(</td>
          <td class="paramtype">btTransform &amp;&#160;</td>
          <td class="paramname"><em>worldTrans</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) transformation. </p>

</div>
</div>
<a class="anchor" id="abca091f01cadd783faed6adc14f8d578"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrix osgbDynamics::MotionState::computeCOLocalToOsgLocal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a matrix that transforms from collision object local coordinates to OSG local coordinate. </p>
<p>Use this function to convert a point in collision object local coordinate space to its equivalent OSG object coordinate, taking center of mass and scale into account. </p>

</div>
</div>
<a class="anchor" id="af6b93f2ed77cc32b7be06b1d22f0006f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrix osgbDynamics::MotionState::computeOsgLocalToCOLocal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a matrix that transforms from OSG local coordinates to collision object local coordinate. </p>
<p>Use this function to convert a point on an OSG model into its equivalent Bullet collision object location. </p>

</div>
</div>
<a class="anchor" id="a58036dbd1e42474a15ddea2f62e116bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrix osgbDynamics::MotionState::computeOsgWorldToCOLocal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a matrix that transforms from OSG world coordinates to collision object local coordinate. </p>
<p>Use this function to convert a point in OSG world space to its equivalent Bullet collision object location. </p>

</div>
</div>
<a class="anchor" id="abffcdf4277aa8849a15fa5c67121a6f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrix osgbDynamics::MotionState::computeOsgWorldToBulletWorld </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a matrix that transforms from OSG world coordinates to Bullet world coordinates. </p>
<p>This function creates a matrix that uses the center of mass and scale values to transform from OSG world coordinates to Bullet world coordinates. If the center of mass is (0,0,0) and the scale is (1,1,1), the returned matrix is the identity. </p>

</div>
</div>
<a class="anchor" id="a5bf2ea5763b3be2b38595a555863c151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::setTransform </td>
          <td>(</td>
          <td class="paramtype">osg::Transform *&#160;</td>
          <td class="paramname"><em>transform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set and get a subgraph that corresponds to the rigid body owning this <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transform</td><td>The osg::Transform root of the subgraph. Bullet will use <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> to set this transformation directly. <code>transform</code> must be an osg::MatrixTransform or an (osgWorls) osgwTools::AbsoluteModelTransform. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae4f3d27b571aa7b2945d70132727af9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Transform * osgbDynamics::MotionState::getTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set and get a subgraph that corresponds to the rigid body owning this <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. </p>

</div>
</div>
<a class="anchor" id="a3533d8459ee58055cc35ca09d672b779"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osg::Transform * osgbDynamics::MotionState::getTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set and get a subgraph that corresponds to the rigid body owning this <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. </p>

</div>
</div>
<a class="anchor" id="a3743fbe64731f55b1dee15f4d205e3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::setParentTransform </td>
          <td>(</td>
          <td class="paramtype">const osg::Matrix&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set and get the initial transformation for the <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. </p>
<p>When making a subgraph into a rigid body, use this function to specify the initial local to world transformation of the subgraph so that the physics simultation starts with the rigid body in its correct initial location and orientation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The initial transformation is typically the accumulated OSG local to world transformation obtained from the NodePath leading up to (but not including) the subgraph root passed to <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a5bf2ea5763b3be2b38595a555863c151" title="Set and get a subgraph that corresponds to the rigid body owning this MotionState.">setTransform()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb79d1c384fd901a0f09be0f4abc5329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrix osgbDynamics::MotionState::getParentTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set and get the initial transformation for the <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a>. </p>

</div>
</div>
<a class="anchor" id="ab4cf7c1412365048f2cad4910c08bce9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::setCenterOfMass </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3 &amp;&#160;</td>
          <td class="paramname"><em>com</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set and get the center of mass.
</pre><p>Bullet assume the origin is the rigid body center of mass. This can be problematic for rigid bodies constructed from arbitrary OSG models. Use this function to specify a non-origin center of mass. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">com</td><td>An <em>xyz</em> point in the subgraph's local coordinates that corresponds to the origin in the collision shape's local coordinates. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7578a290970e7bec58b9dd3fda3ab827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Vec3 osgbDynamics::MotionState::getCenterOfMass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9221f5cb9969036c618e5165eb9c30f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::setScale </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3 &amp;&#160;</td>
          <td class="paramname"><em>scale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set and get the geometric scale.
</pre><p>Unlike OSG, Bullet does not support non-unit scaling. This can be problematic for rigid bodies constructed from OSG models that employ scale transforms. Use this function to specify a non-unit scale factor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scale</td><td>An <em>xyz</em> scale vector, usually extracted by decomposing the parent transformation matrix. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c96763fae8fa8616c3406aa80abb4a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Vec3 osgbDynamics::MotionState::getScale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49c832c0c6ec7e8d7952350755bf220d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MotionStateCallbackList &amp; osgbDynamics::MotionState::getCallbackList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Support for application notification of changes to the world transformation. </p>
<p>Derive a class from <a class="el" href="structosgb_dynamics_1_1_motion_state_callback.html" title="Application notification of changes to a MotionState world transform.">MotionStateCallback</a> and override MotionStateCallback::operator()() with the code that you want to be executed when Bullet calls <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a874c383644fa12becd7e0e77a9e43fdb" title="Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) tr...">setWorldTransform()</a>. Then push an instance of your callback onto this list. Your callback will be executed at the beginning of the <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a874c383644fa12becd7e0e77a9e43fdb" title="Bullet interface routine for changing the rigid body (and corresponding OSG visual representation) tr...">setWorldTransform()</a> function. </p>

</div>
</div>
<a class="anchor" id="a732e288815b92a7e59b69b171639d1dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::resetTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transformation reset due to changes in center of mass and parent transformation.
</pre><p>This is a convenience routine that calls setWorldTransform with the concatenation of the center of mass and parent transform. It is called by <a class="el" href="classosgb_dynamics_1_1_motion_state.html#ab4cf7c1412365048f2cad4910c08bce9">setCenterOfMass()</a> and <a class="el" href="classosgb_dynamics_1_1_motion_state.html#a3743fbe64731f55b1dee15f4d205e3ef" title="Set and get the initial transformation for the MotionState.">setParentTransform()</a> to set the initial world transformation. See also setWorldTransformation().</p>
<p>Applications typically do not need to call this function. </p>

</div>
</div>
<a class="anchor" id="a7c2edadc9837a646029609ab2ff277e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::registerTripleBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgb_dynamics_1_1_triple_buffer.html">osgbDynamics::TripleBuffer</a> *&#160;</td>
          <td class="paramname"><em>tb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> for use with a <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html" title="A triple buffer mechanism to support physics and rendering in separate threads.">TripleBuffer</a>. </p>
<p>Allows a <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> to keep its world transform in a <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html" title="A triple buffer mechanism to support physics and rendering in separate threads.">TripleBuffer</a> object, which enables multithreaded physics simulation. </p>

</div>
</div>
<a class="anchor" id="aca3784a1d4ad81ed62a5b720ce33cb1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgbDynamics::MotionState::updateTripleBuffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the latest updated world transform value from the <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html" title="A triple buffer mechanism to support physics and rendering in separate threads.">TripleBuffer</a> and pushes it out to the <a class="el" href="classosgb_dynamics_1_1_motion_state.html" title="A btMotionState that works with OSG Transforms.">MotionState</a> object's OSG Transform. </p>
<p>Called by <a class="el" href="classosgb_dynamics_1_1_triple_buffer.html#a205013e02edd6af7219c022b090304c9" title="Class for updating a list of MotionState objects from a TripleBuffer.">TripleBufferMotionStateUpdate()</a> and not inteded for application use. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/osgbDynamics/<a class="el" href="_motion_state_8h_source.html">MotionState.h</a></li>
<li>src/osgbDynamics/MotionState.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 10 2013 19:23:13 for osgBullet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
